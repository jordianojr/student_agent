text
IAM Policies Define Access Control. An IAM policy is a formal statement of permissions that will be granted to an entity. Policies specify what actions are allowed, which resources to allow the actions on, and what the effect will be when the user requests access to the resources. The principle of least privilege is an important concept in computer security. It promotes that you grant only the minimal user privileges needed to the user, based on the needs of your users. Policies can be attached to any IAM entity. Entities include users, groups, roles, or resources. Identity-based policies are permissions policies that you can attach to a principal (or identity) such as an IAM user, role, or group.
Role-Based Access for EC2 Instances. The administrator does not need to grant the application developer permission to access the photos bucket, and the developer never needs to share or manage credentials. When the application runs on the instance, it can use the role's temporary credentials to access the photos bucket. To learn more details about this example, see Using an IAM role to grant permissions to applications running on Amazon EC2 instances. The administrator creates the IAM role and attaches the role to the EC2 instance. The role includes a permissions policy that grants read-only access to the specified S3 bucket. It also includes a trust policy that allows the EC2 instance to assume the role and retrieve the temporary credentials.
Principle of Least Privilege in IAM.  The principle of least privilege is an important concept in computer security. It promotes that you grant only the minimal user privileges needed to the user, based on the needs of your users. When you create IAM policies, it is a best practice to follow this security advice of granting least privilege. Start with a minimum set of permissions and grant additional permissions as necessary. Doing so is more secure than starting with permissions that are too broad and then later trying to lock down the permissions granted. All actions in the account are denied to the user by default (implicit deny) unless those actions are explicitly allowed. It effectively grants read-only permissions.
"Explicit Deny Overrides Explicit Allow in IAM Policies. When there is a conflict, the most restrictive policy applies. An explicit deny statement takes precedence over an allow statement. The example IAM policy grants users access only to the following resources: ... It also includes an explicit deny (""Effect"":""Deny"") element. The NotResource element helps to ensure that users cannot use any other DynamoDB or S3 actions or resources except the actions and resources that are specified in the policy — even if permissions have been granted in another policy. An explicit deny statement takes precedence over an allow statement."
CIDR IP Ranges in Security Policies. you can only make the request from one of the two IP address ranges that are specified in aws:SourceIp A resource like the CIDR to IP Range tool can be used to calculate the range of a CIDR block can you terminate instances if you make the call from a server that has an assigned IP address of 192.0.2.243? ANSWER: Yes, because the 192.0.2.0/24 Classless Inter-Domain Routing (CIDR) IP address range includes IP addresses 192.0.2.0 through 192.0.2.255
Architectural Thinking for CIA Protection. For each location, node, artifact, communication path, network segment: Are there potential threats to it’s CIA? (confidentiality, integrity and availability) Are there potential vulnerabilities that can be exploited to compromise CIA? (confidentiality, integrity and availability) If yes to step 4, you need to design countermeasures. Remember defence in depth too. Best Practices for Mitigate, Detect and Recovery OWASP ZAP https://owasp.org/www-project-zap/ https://www.zaproxy.org/getting-started/ https://www.softwaretestinghelp.com/owasp-zap-tutorial/
IAM Role Trust Policies. It also includes a trust policy that allows the EC2 instance to assume the role and retrieve the temporary credentials. the trust policy that you create specifies which service or user can assume the role
OWASP ZAP for Security Testing. OWASP ZAP https://owasp.org/www-project-zap/ https://www.zaproxy.org/getting-started/ https://www.softwaretestinghelp.com/owasp-zap-tutorial/ Best Practices for Mitigate, Detect and Recovery OWASP ZAP https://owasp.org/www-project-zap/ https://www.zaproxy.org/getting-started/ https://www.softwaretestinghelp.com/owasp-zap-tutorial/
Policy Evaluation Order in IAM. IAM first checks for the existence of any applicable explicit denial policy. If no explicit denial exists, it then checks for any applicable explicit allow policy. If neither an explicit deny nor an explicit allow policy exists, IAM reverts to the default, which is to deny access. The order in which the policies are evaluated has no effect on the outcome of the evaluation. All policies are evaluated, and the result is always that the request is either allowed or denied. When there is a conflict, the most restrictive policy applies.
Resource-Based vs. Identity-Based Policies. There are two types of IAM policies. Identity - based policies are permissions policies that you can attach to a principal (or identity) such as an IAM user, role, or group. Resource-based policies are JSON policy documents that you attach to a resource, such as an S3 bucket. Resource-based policies are JSON policy documents that you attach to a resource, such as an S3 bucket. These policies control what actions a specified principal can perform on that resource, and under what conditions.
"Conditional Access in IAM Policies. The order in which the policies are evaluated has no effect on the outcome of the evaluation. All policies are evaluated, and the result is always that the request is either allowed or denied. When there is a conflict, the most restrictive policy applies. The example IAM policy grants users access only to the following resources: ... The IAM policy also includes an explicit deny (""Effect"":""Deny"") element. The NotResource element helps to ensure that users cannot use any other DynamoDB or S3 actions or resources except the actions and resources that are specified in the policy — even if permissions have been granted in another policy. An explicit deny statement takes precedence over an allow statement. Are you allowed to make the terminate instance call from anywhere? ANSWER: No. You can only make the request from one of the two IP address ranges that are specified in aws:SourceIp. Can you terminate instances if you make the call from a server that has an assigned IP address of 192.0.2.243? ANSWER: Yes, because the 192.0.2.0/24 Classless Inter-Domain Routing (CIDR) IP address range includes IP addresses 192.0.2.0 through 192.0.2.255. The Condition (Optional) - Specify the circumstances where the policy grants permissions."
"Read-Only IAM Permissions for S3 Access. An administrator creates the IAM role and attaches the role to the EC2 instance. The role includes a permissions policy that grants read-only access to the specified S3 bucket. The IAM policy also includes an explicit deny (""Effect"":""Deny"") element. The NotResource element helps to ensure that users cannot use any other DynamoDB or S3 actions or resources except the actions and resources that are specified in the policy — even if permissions have been granted in another policy. Does it allow you to create an IAM user, group, policy, or role? ANSWER: No. The access is limited to get and list requests. It effectively grants read-only permissions."
"Asset Valuation in Security Design. By default, IAM users do not have permissions to access any resources or data in an AWS account. Instead, you must explicitly grant permissions to a user, group, or role by creating a policy, which is a document in JavaScript Object Notation (JSON) format. The principle of least privilege is an important concept in computer security. It promotes that you grant only the minimal user privileges needed to the user, based on the needs of your users. Determine what users need to be able to do and then craft policies for them that let the users perform only those tasks. Are there assets affected by step 2 and 3? If so, are they ""valuable""? The example IAM policy grants users access only to the following resources: ... It also includes an explicit deny(""Effect"":""Deny"") element. The NotResource element helps to ensure that users cannot use any other DynamoDB or S3 actions or resources except the actions and resources that are specified in the policy — even if permissions have been granted in another policy."
Mitigation, Detection, and Recovery Best Practices.  The principle of least privilege is an important concept in computer security. It promotes that you grant only the minimal user privileges needed to the user, based on the needs of your users. Determine what users need to be able to do and then craft policies for them that let the users perform only those tasks. Start with a minimum set of permissions and grant additional permissions as necessary. Doing so is more secure than starting with permissions that are too broad and then later trying to lock down the permissions granted. For each location, node, artifact, communication path, network segment... Are there potential threats to it’s CIA? (confidentiality, integrity and availability)... Are there potential vulnerabilities that can be exploited to compromise CIA? (confidentiality, integrity and availability)... If yes to step 4, you need to design countermeasures. Remember defence in depth too. Best Practices for Mitigate, Detect and Recovery Best Practices for Mitigate, Detect and Recovery Best Practices for Mitigate, Detect and Recovery OWASP ZAP... Best Practices for Mitigate, Detect and Recovery All policies are evaluated, and the result is always that the request is either allowed or denied. When there is a conflict, the most restrictive policy applies. The administrator does not need to grant the application developer permission to access the photos bucket, and the developer never needs to share or manage credentials.
